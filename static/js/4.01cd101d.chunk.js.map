{"version":3,"sources":["components/common/FormsControl/FormsControl.tsx","components/common/FormsControl/FormsControl.module.css","utils/validators/validators.ts","hoc/withAuthRedirect.tsx","assets/images/user-man.png","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/Profile.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/AddPostForm.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/AddPostForm.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/Post/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx"],"names":["FormControl","input","meta","touched","error","children","showError","className","s","formControl","errorMessage","FormsControl","restProps","textarea","Input","createField","placeholder","name","validators","component","props","text","style","display","validate","marginBottom","module","exports","required","value","undefined","maxLength","length","mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","connect","to","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","_s","_i","next","done","push","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","useState","status","setStatus","editMode","setEditMode","useEffect","autoFocus","onChange","e","currentTarget","onBlur","updateStatus","type","onDoubleClick","ProfileInfo","userProfile","isOwner","savePhoto","Preloader","descriptionBlog","profileImage","alt","src","photos","large","photo","avatar","imageDownloader","target","files","profileInformation","informationItem","fullName","lookingForAJob","lookingForAJobDescription","Post","postContainer","message","likeCount","maxLength15","reduxForm","form","addPostFormContainer","onSubmit","handleSubmit","Field","label","width","CustomButton","buttonPosition","purple","MyPosts","React","memo","postsElement","profilePage","posts","map","p","likesCount","id","postsBlock","nameContainer","postText","addPost","newPostText","MyPostsContainer","dispatch","Profile","profileContainer","profileInfoContainer","profilePageServices","friendsPage","ProfileContainer","userId","this","match","params","authorizedUserId","history","getUserProfile","getStatus","getProfile","prevProps","compose","data","withRouter"],"mappings":"0RAWMA,EAAwC,SAAC,GAIM,EAHFC,MAGG,IAAD,IAFFC,KAAOC,EAEL,EAFKA,QAASC,EAEd,EAFcA,MAChBC,EACE,EADFA,SAEzCC,EAAYH,GAAWC,EAE7B,OACI,sBAAKG,UAAWD,EAAS,UAAME,IAAEC,YAAR,YAAuBD,IAAEJ,OAAUI,IAAEC,YAA9D,UACKJ,EACAC,GAAa,sBAAMC,UAAWC,IAAEE,aAAnB,SAAkCN,QAI/CO,EAAsC,SAAC,GAIO,IAHHV,EAGE,EAHFA,MACAC,EAEE,EAFFA,KACGU,EACD,gCACtD,OACI,cAACZ,EAAD,CAAaC,MAAOA,EAAOC,KAAMA,EAAjC,SACI,kDAAUK,UAAWC,IAAEK,UAAcZ,GAAWW,OAK/CE,EAA4B,SAAC,GAIO,IAHHb,EAGE,EAHFA,MACAC,EAEE,EAFFA,KACGU,EACD,gCAC5C,OACI,cAACZ,EAAD,CAAaC,MAAOA,EAAOC,KAAMA,EAAjC,SACI,+CAAOK,UAAWC,IAAEP,OAAWA,GAAWW,OAKzCG,EAAc,SAAUC,EAAsBC,EAAeC,EAA2BC,EAAeC,EAAWC,GAApG,OACvB,sBAAKC,MAAO,CAACC,QAAS,QAAtB,UACI,cAAC,IAAD,yBAAON,KAAMA,EACNE,UAAWA,EACXK,SAAUN,EACVF,YAAaA,GACTI,GAJX,IAKIE,MAAO,CAACG,aAAc,WAE1B,8BACKJ,S,oBC1DbK,EAAOC,QAAU,CAAC,YAAc,kCAAkC,MAAQ,4BAA4B,aAAe,mCAAmC,SAAW,iC,iCCDnK,oEAAO,IAAMC,EAAW,SAACC,GAAD,OAAmBA,OAAQC,EAAY,wBAElDC,EAAY,SAACC,GAAD,OAAoB,SAACH,GAAD,OAAmBA,EAAMG,OAASA,EAAf,wBACzCA,EADyC,iBAE1DF,K,mHCMFG,EAAkB,SAACC,GAAD,MAA4C,CAC9DC,OAAQD,EAAME,KAAKD,SAGhB,SAASE,EAAoBC,GAOhC,OAAOC,YAAQN,EAARM,EANmB,SAACnB,GAAgC,IAClDe,EAAwBf,EAAxBe,OAAWvB,EADsC,YACzBQ,EADyB,YAEtD,OAAKe,EACE,cAACG,EAAD,eAAe1B,IADF,cAAC,IAAD,CAAU4B,GAAI,gB,iCCjB3B,QAA0B,sC,+ECI1B,SAASC,EAAeC,EAAKC,GAC1C,OCLa,SAAyBD,GACtC,GAAIE,MAAMC,QAAQH,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAKC,GACjD,GAAsB,qBAAXG,QAA4BA,OAAOC,YAAYC,OAAON,GAAjE,CACA,IAAIO,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKtB,EAET,IACE,IAAK,IAAiCuB,EAA7BC,EAAKZ,EAAII,OAAOC,cAAmBG,GAAMG,EAAKC,EAAGC,QAAQC,QAChEP,EAAKQ,KAAKJ,EAAGxB,QAETc,GAAKM,EAAKjB,SAAWW,GAH8CO,GAAK,IAK9E,MAAOQ,GACPP,GAAK,EACLC,EAAKM,EACL,QACA,IACOR,GAAsB,MAAhBI,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIH,EAAI,MAAMC,GAIlB,OAAOH,GFnBuB,CAAqBP,EAAKC,IAAM,OAAAgB,EAAA,GAA2BjB,EAAKC,IGLjF,WACb,MAAM,IAAIiB,UAAU,6IHIgF,K,oBIJtGlC,EAAOC,QAAU,CAAC,iBAAmB,kCAAkC,qBAAuB,sCAAsC,YAAc,6BAA6B,oBAAsB,qCAAqC,YAAc,6BAA6B,cAAgB,iC,oBCArSD,EAAOC,QAAU,CAAC,gBAAkB,qCAAqC,aAAe,kCAAkC,mBAAqB,wCAAwC,OAAS,4BAA4B,gBAAkB,qCAAqC,gBAAkB,uC,oBCArSD,EAAOC,QAAU,CAAC,WAAa,4BAA4B,cAAgB,+BAA+B,MAAQ,yB,oBCAlHD,EAAOC,QAAU,CAAC,cAAgB,8B,oBCAlCD,EAAOC,QAAU,CAAC,qBAAuB,0CAA0C,eAAiB,sC,wJC0CrFkC,EApCgB,SAACzC,GAA8B,IAAD,EAC7B0C,mBAAS1C,EAAM2C,QADc,mBAClDA,EADkD,KAC1CC,EAD0C,OAEzBF,oBAAkB,GAFO,mBAElDG,EAFkD,KAExCC,EAFwC,KAIzDC,qBAAU,WACNH,EAAU5C,EAAM2C,UACjB,CAAC3C,EAAM2C,SAaV,OACI,mCACKE,EACK,8BACE,uBAAOG,WAAS,EACTC,SATA,SAACC,GACpBN,EAAUM,EAAEC,cAAc1C,QASP2C,OAdG,WACtBN,GAAY,GACZ9C,EAAMqD,aAAaV,IAaAlC,MAAOkC,EACPW,KAAK,WAEd,8BACE,uBAAMC,cAtBW,WAC7BT,GAAY,IAqBA,UAAgD9C,EAAM2C,QAAU,gBAAhE,Y,SCmBLa,EAzCqC,SAAC,GAMO,IALHC,EAKE,EALFA,YACAC,EAIE,EAJFA,QACAf,EAGE,EAHFA,OACAU,EAEE,EAFFA,aACAM,EACE,EADFA,UAErD,IAAKF,EACD,OAAO,cAACG,EAAA,EAAD,IAQX,OACI,sBAAKzE,UAAWC,IAAEyE,gBAAlB,UACI,sBAAK1E,UAAWC,IAAE0E,aAAlB,UACI,qBAAKC,IAAK,SAAUC,IAAKP,EAAYQ,OAAOC,OAASC,IAAOhF,UAAWC,IAAEgF,SACxEV,GACG,wBAAOvE,UAAWC,IAAEiF,gBAApB,yBACI,uBAAOf,KAAK,OAAOL,SAXX,SAACC,GAAsC,IAAD,GAC9D,UAAIA,EAAEoB,OAAOC,aAAb,aAAI,EAAgB3D,SAChB+C,EAAUT,EAAEoB,OAAOC,MAAM,KASqCrE,MAAO,CAACC,QAAS,gBAG/E,sBAAKhB,UAAWC,IAAEoF,mBAAlB,UACI,qBAAKrF,UAAWC,IAAEqF,gBAAlB,SACI,+BAAOhB,EAAYiB,aAEvB,cAAC,EAAD,CAAwB/B,OAAQA,EAAQU,aAAcA,IACrDI,EAAYkB,gBAAkB,qBAAKxF,UAAWC,IAAEqF,gBAAlB,SAC3B,+BAAOhB,EAAYkB,mBAErBlB,EAAYmB,2BAA6B,qBAAKzF,UAAWC,IAAEqF,gBAAlB,SACvC,+BAAOhB,EAAYmB,qC,oCC7BxBC,MAZf,SAAc7E,GACV,OACI,sBAAKb,UAAWC,IAAE0F,cAAlB,UACI,qBAAKd,IAAI,gEAAgED,IAAI,KAC5E/D,EAAM+E,QACP,8BACI,yCAAY/E,EAAMgF,mB,8DCJ5BC,EAActE,YAAU,IAgBfuE,cAA2B,CAACC,KAAM,sBAAlCD,EAfK,SAAClF,GACjB,OACI,uBAAMb,UAAWC,IAAEgG,qBAAsBC,SAAUrF,EAAMsF,aAAzD,UACI,cAACC,EAAA,EAAD,CAAOxF,UAAWR,IACXiG,MAAO,kBACP3F,KAAM,cACND,YAAa,oBACbQ,SAAU,CAACI,IAAUyE,GACrB/E,MAAO,CAACuF,MAAO,UAEtB,cAACC,EAAA,EAAD,CAAcvG,UAAWC,IAAEuG,eAAgBC,QAAM,EAAjD,4BCSGC,EAvBCC,IAAMC,MAAK,SAAC/F,GAExB,IAAIgG,EAAehG,EAAMiG,YAAYC,MAAMC,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAiBrB,QAASqB,EAAEnG,KAAM+E,UAAWoB,EAAEC,YAApCD,EAAEE,OAMjE,OACI,sBAAKnH,UAAWC,IAAEmH,WAAlB,UACI,qBAAKpH,UAAWC,IAAEoH,cAAlB,SACI,8CAEJ,8BACI,cAAC,EAAD,CAAanB,SAVD,SAACoB,GACrBzG,EAAM0G,QAAQD,EAASE,aACvBF,EAASE,YAAc,QAUnB,qBAAKxH,UAAWC,IAAE8G,MAAlB,SACKF,U,gBCOFY,EAFUzF,aAbD,SAACL,GACrB,MAAO,CACHmF,YAAanF,EAAMmF,gBAGA,SAACY,GACxB,MAAO,CACHH,QAAS,SAACD,GACNI,EAASH,YAAQD,QAKJtF,CAA6C0E,GCavDiB,MA5Bf,SAAiB9G,GAIb,OACI,qBAAKb,UAAWC,IAAE2H,iBAAlB,SACI,sBAAK5H,UAAWC,IAAE6G,YAAlB,UACI,qBAAK9G,UAAWC,IAAE4H,qBAAlB,SACI,cAAC,EAAD,CAAavD,YAAazD,EAAMyD,YACnBC,QAAS1D,EAAM0D,QACff,OAAQ3C,EAAM2C,OACdgB,UAAW3D,EAAM2D,UACjBN,aAAcrD,EAAMqD,iBAErC,sBAAKlE,UAAWC,IAAE6H,oBAAlB,UACI,qBAAK9H,UAAWC,IAAE8H,YAAlB,SACI,qBAAK/H,UAAWC,IAAEoH,cAAlB,SACI,+CAIR,cAAC,EAAD,a,wBCJdW,E,gKACF,WACI,IAAIC,EAASC,KAAKrH,MAAMsH,MAAMC,OAAOH,OAChCA,IACDA,EAASC,KAAKrH,MAAMwH,iBAAmB,KAEnCH,KAAKrH,MAAMyH,QAAQpF,KAAK,UAGhCgF,KAAKrH,MAAM0H,gBAAgBN,GAC3BC,KAAKrH,MAAM2H,WAAWP,K,+BAE1B,WACIC,KAAKO,e,gCAGT,SAAmBC,GACXR,KAAKrH,MAAMsH,MAAMC,OAAOH,SAAWS,EAAUP,MAAMC,OAAOH,QAC1DC,KAAKO,e,oBAIb,WACI,OACI,cAAC,EAAD,CAASnE,YAAa4D,KAAKrH,MAAMyD,YACxBC,SAAU2D,KAAKrH,MAAMsH,MAAMC,OAAOH,OAClCzE,OAAQ0E,KAAKrH,MAAM2C,OACnBgB,UAAW0D,KAAKrH,MAAM2D,UACtBN,aAAcgE,KAAKrH,MAAMqD,mB,GA5BfyC,IAAM5E,WA2CtB4G,sBACX7G,IACAE,aAXoB,SAACL,GAA2C,IAAD,EAC/D,MAAO,CACH2C,YAAa3C,EAAMmF,YAAYxC,YAC/Bd,OAAQ7B,EAAMmF,YAAYtD,OAC1B6E,iBAAgB,UAAE1G,EAAME,KAAK+G,YAAb,aAAE,EAAiBzB,GACnCvF,OAAQD,EAAME,KAAKD,UAME,CAAC2G,mBAAgBC,cAAWtE,iBAAcM,gBACnEqE,IAHWF,CAIbX","file":"static/js/4.01cd101d.chunk.js","sourcesContent":["import React, {DetailedHTMLProps, FC, InputHTMLAttributes, TextareaHTMLAttributes} from 'react';\r\nimport {WrappedFieldProps} from \"redux-form/lib/Field\";\r\nimport s from './FormsControl.module.css'\r\nimport {Field} from \"redux-form\";\r\nimport {required} from \"../../../utils/validators/validators\";\r\n\r\ntype DefaultTextAreaPropsType = DetailedHTMLProps<TextareaHTMLAttributes<HTMLTextAreaElement>, HTMLTextAreaElement>\r\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\ntype TextareaPropsType = DefaultTextAreaPropsType & WrappedFieldProps\r\ntype InputPropsType = DefaultInputPropsType & WrappedFieldProps\r\ntype FormControlPropsType = InputPropsType & TextareaPropsType\r\nconst FormControl: FC<FormControlPropsType> = ({\r\n                                                   input,\r\n                                                   meta: {touched, error},\r\n                                                   children\r\n                                               }) => {\r\n    const showError = touched && error\r\n\r\n    return (\r\n        <div className={showError ? `${s.formControl} ${s.error}` : s.formControl}>\r\n            {children}\r\n            {showError && <span className={s.errorMessage}>{error}</span>}\r\n        </div>\r\n    );\r\n}\r\nexport const FormsControl: FC<TextareaPropsType> = ({\r\n                                                        input,\r\n                                                        meta,\r\n                                                        ...restProps\r\n                                                    }) => {\r\n    return (\r\n        <FormControl input={input} meta={meta}>\r\n            <textarea className={s.textarea} {...input} {...restProps}/>\r\n        </FormControl>\r\n    );\r\n};\r\n\r\nexport const Input: FC<InputPropsType> = ({\r\n                                              input,\r\n                                              meta,\r\n                                              ...restProps\r\n                                          }) => {\r\n    return (\r\n        <FormControl input={input} meta={meta}>\r\n            <input className={s.input} {...input} {...restProps}/>\r\n        </FormControl>\r\n    );\r\n};\r\n\r\nexport const createField = <T, C, P>(placeholder?: string, name?: string, validators?: T | Array<T>, component?: C, props?: P, text?: string) => (\r\n    <div style={{display: \"flex\"}}>\r\n        <Field name={name}\r\n               component={component}\r\n               validate={validators}\r\n               placeholder={placeholder}\r\n               {...props}\r\n            style={{marginBottom: \"10px\"}}\r\n        />\r\n        <div>\r\n            {text}\r\n        </div>\r\n    </div>\r\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__Bb7au\",\"error\":\"FormsControl_error__2MOuv\",\"errorMessage\":\"FormsControl_errorMessage__BRyAo\",\"textarea\":\"FormsControl_textarea__2njJO\"};","export const required = (value: string) => value ? undefined : 'Field is required!!!'\r\n\r\nexport const maxLength = (length: number) => (value: string) => value.length > length\r\n    ? `Max length is ${length} symbols`\r\n    : undefined","import React, {ComponentType} from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {StoreType} from \"../redux/redux-store\";\r\n\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n}\r\n\r\nlet mapStateToProps = (state: StoreType): MapStateToPropsType => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n    const RedirectComponent = (props: MapStateToPropsType) => {\r\n        let {isAuth, ...restProps} = props\r\n        if (!isAuth) return <Redirect to={'/login'}/>\r\n        return <Component {...restProps as T}/>\r\n    }\r\n\r\n    return connect(mapStateToProps)(RedirectComponent)\r\n};\r\n\r\n","export default __webpack_public_path__ + \"static/media/user-man.88012ad7.png\";","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileContainer\":\"Profile_profileContainer__3sSvd\",\"profileInfoContainer\":\"Profile_profileInfoContainer__2NyAN\",\"profilePage\":\"Profile_profilePage__2WNHV\",\"profilePageServices\":\"Profile_profilePageServices__2gkkr\",\"friendsPage\":\"Profile_friendsPage__2GF0P\",\"nameContainer\":\"Profile_nameContainer__145qp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlog\":\"ProfileInfo_descriptionBlog__3EJWo\",\"profileImage\":\"ProfileInfo_profileImage__Tbbxh\",\"profileInformation\":\"ProfileInfo_profileInformation__sbWCl\",\"avatar\":\"ProfileInfo_avatar__lqV8S\",\"imageDownloader\":\"ProfileInfo_imageDownloader__yP8Bw\",\"informationItem\":\"ProfileInfo_informationItem__3POUh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__1eYTx\",\"nameContainer\":\"MyPosts_nameContainer__16vyO\",\"posts\":\"MyPosts_posts__2KqxB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postContainer\":\"Post_postContainer__uWPh-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addPostFormContainer\":\"AddPostForm_addPostFormContainer__1rqe6\",\"buttonPosition\":\"AddPostForm_buttonPosition__O3QWY\"};","import React, {ChangeEvent, useEffect, useState} from 'react';\r\n\r\ntype ProfileStatusType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nconst ProfileStatusWithHooks = (props: ProfileStatusType) => {\r\n    const [status, setStatus] = useState(props.status)\r\n    const [editMode, setEditMode] = useState<boolean>(false)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const onDoubleClickSetEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const onBlurSetEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n    const onChangeStatus = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {editMode\r\n                ? <div>\r\n                    <input autoFocus\r\n                           onChange={onChangeStatus}\r\n                           onBlur={onBlurSetEditMode}\r\n                           value={status}\r\n                           type=\"text\"/>\r\n                </div>\r\n                : <div>\r\n                    <span onDoubleClick={onDoubleClickSetEditMode}>{props.status || '-------------'} </span>\r\n                </div>}\r\n        </>)\r\n\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React, {ChangeEvent} from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport {UserProfileType} from \"../../../redux/profile-reducer\";\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport photo from '../../../assets/images/user-man.png'\r\n\r\ntype ProfileInfoPropsType = {\r\n    userProfile: UserProfileType | null\r\n    isOwner: boolean\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    savePhoto: (photo: any) => void\r\n}\r\n\r\nconst ProfileInfo: React.FC<ProfileInfoPropsType> = ({\r\n                                                         userProfile,\r\n                                                         isOwner,\r\n                                                         status,\r\n                                                         updateStatus,\r\n                                                         savePhoto,\r\n                                                     }) => {\r\n    if (!userProfile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const onMainPhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files?.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n    return (\r\n        <div className={s.descriptionBlog}>\r\n            <div className={s.profileImage}>\r\n                <img alt={'Avatar'} src={userProfile.photos.large || photo} className={s.avatar}/>\r\n                {isOwner &&\r\n                    <label className={s.imageDownloader}>Upload image\r\n                        <input type=\"file\" onChange={onMainPhotoSelected} style={{display: \"none\"}}/>\r\n                    </label>}\r\n            </div>\r\n            <div className={s.profileInformation}>\r\n                <div className={s.informationItem}>\r\n                    <span>{userProfile.fullName}</span>\r\n                </div>\r\n                <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n                {userProfile.lookingForAJob && <div className={s.informationItem}>\r\n                    <span>{userProfile.lookingForAJob}</span>\r\n                </div>}\r\n                { userProfile.lookingForAJobDescription && <div className={s.informationItem}>\r\n                    <span>{userProfile.lookingForAJobDescription}</span>\r\n                </div>}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\ntype PostPropsType = {\r\n    message: string\r\n    likeCount: number\r\n}\r\n\r\nfunction Post(props: PostPropsType) {\r\n    return (\r\n        <div className={s.postContainer}>\r\n            <img src=\"https://www.kinonews.ru/insimgs/2018/newsimg/newsimg83415.jpg\" alt=\"\"/>\r\n            {props.message}\r\n            <div>\r\n                <span>like {props.likeCount}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {maxLength, required} from \"../../../utils/validators/validators\";\r\nimport {FormsControl} from \"../../common/FormsControl/FormsControl\";\r\nimport CustomButton from \"../../common/CustomButton/CustomButton\";\r\nimport s from './AddPostForm.module.css'\r\n\r\nexport type AddPostFormType = {\r\n    newPostText: string\r\n}\r\nconst maxLength15 = maxLength(15)\r\nconst AddPostForm = (props: InjectedFormProps<AddPostFormType>) => {\r\n    return (\r\n        <form className={s.addPostFormContainer} onSubmit={props.handleSubmit}>\r\n            <Field component={FormsControl}\r\n                   label={'Create new post'}\r\n                   name={'newPostText'}\r\n                   placeholder={'Enter post text..'}\r\n                   validate={[required, maxLength15]}\r\n                   style={{width: \"100%\"}}\r\n            />\r\n            <CustomButton className={s.buttonPosition} purple>Add post</CustomButton>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default reduxForm<AddPostFormType>({form: 'profileAddPostForm'})(AddPostForm);","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport {MyPostsPropsType} from \"./Post/MyPostsContainer\";\r\nimport AddPostForm, {AddPostFormType} from \"./AddPostForm\";\r\n\r\n\r\nconst MyPosts = React.memo((props: MyPostsPropsType) => {\r\n\r\n    let postsElement = props.profilePage.posts.map(p => <Post key={p.id} message={p.text} likeCount={p.likesCount}/>)\r\n\r\n    const onSubmitAddPost = (postText: AddPostFormType) => {\r\n        props.addPost(postText.newPostText)\r\n        postText.newPostText = ''\r\n    }\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <div className={s.nameContainer}>\r\n                <span>My posts</span>\r\n            </div>\r\n            <div>\r\n                <AddPostForm onSubmit={onSubmitAddPost}/>\r\n            </div>\r\n            <div className={s.posts}>\r\n                {postsElement}\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport MyPosts from \"../MyPosts\";\r\nimport {addPost, ProfilePageType} from \"../../../../redux/profile-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {StoreType} from \"../../../../redux/redux-store\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\ntype MapStateToPropsType = {\r\n    profilePage: ProfilePageType\r\n}\r\ntype MapDispatchToPropsType = {\r\n    addPost: (postText: string) => void\r\n}\r\nexport type MyPostsPropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\nconst mapStateToProps = (state: StoreType): MapStateToPropsType => {\r\n    return {\r\n        profilePage: state.profilePage\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch: Dispatch): MapDispatchToPropsType => {\r\n    return {\r\n        addPost: (postText) => {\r\n            dispatch(addPost(postText))\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport s from './Profile.module.css'\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/Post/MyPostsContainer\";\r\nimport { UserProfileType} from \"../../redux/profile-reducer\";\r\n\r\ntype ProfilePropsType = {\r\n    userProfile: UserProfileType | null\r\n    isOwner: boolean\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    savePhoto: (photo: any) => void\r\n}\r\n\r\nfunction Profile(props: ProfilePropsType) {\r\n\r\n\r\n\r\n    return (\r\n        <div className={s.profileContainer}>\r\n            <div className={s.profilePage}>\r\n                <div className={s.profileInfoContainer}>\r\n                    <ProfileInfo userProfile={props.userProfile}\r\n                                 isOwner={props.isOwner}\r\n                                 status={props.status}\r\n                                 savePhoto={props.savePhoto}\r\n                                 updateStatus={props.updateStatus}/>\r\n                </div>\r\n                <div className={s.profilePageServices}>\r\n                    <div className={s.friendsPage}>\r\n                        <div className={s.nameContainer}>\r\n                            <span>Friends</span>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <MyPostsContainer/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {StoreType} from \"../../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, savePhoto, updateStatus, UserProfileType} from \"../../redux/profile-reducer\";\r\nimport {RouteComponentProps, withRouter} from 'react-router-dom';\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\ntype MapStateToPropsType = {\r\n    userProfile: UserProfileType | null\r\n    status: string\r\n    authorizedUserId: number | undefined\r\n    isAuth: boolean\r\n}\r\ntype MapDispatchToPropsType = {\r\n    getUserProfile: (userId: number) => void\r\n    getStatus: (userId: number) => void\r\n    updateStatus: (status: string) => void\r\n    savePhoto: (photo: any) => void\r\n}\r\ntype ParamsPropsType = {\r\n    userId: string\r\n}\r\nexport type ProfileContainerPropsType =\r\n    MapStateToPropsType\r\n    & MapDispatchToPropsType\r\n    & RouteComponentProps<ParamsPropsType>\r\n\r\n\r\nclass ProfileContainer extends React.Component<ProfileContainerPropsType> {\r\n    getProfile(){\r\n        let userId = this.props.match.params.userId\r\n        if (!userId ) {\r\n            userId = this.props.authorizedUserId + ''\r\n            if(!userId){\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        this.props.getUserProfile(+userId)\r\n        this.props.getStatus(+userId)\r\n    }\r\n    componentDidMount() {\r\n        this.getProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: ProfileContainerPropsType) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId){\r\n            this.getProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile userProfile={this.props.userProfile}\r\n                     isOwner={!this.props.match.params.userId}\r\n                     status={this.props.status}\r\n                     savePhoto={this.props.savePhoto}\r\n                     updateStatus={this.props.updateStatus}/>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state: StoreType): MapStateToPropsType => {\r\n    return {\r\n        userProfile: state.profilePage.userProfile,\r\n        status: state.profilePage.status,\r\n        authorizedUserId: state.auth.data?.id,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto}),\r\n    withRouter\r\n)(ProfileContainer)\r\n"],"sourceRoot":""}