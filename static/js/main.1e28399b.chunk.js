(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[1],{13:function(t,e,n){t.exports={nav:"Navbar_nav__Nj7EO",item:"Navbar_item__3JUD_"}},139:function(t,e,n){},20:function(t,e,n){"use strict";n.d(e,"e",(function(){return p})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return O}));var r=n(5),a=n.n(r),c=n(11),u=n(3),i=n(7),s=n(44),o="SET-AUTH-USER-DATA",l="SET-FETCHING",f="SET-USER-AUTHORIZATION",d={data:null,isFetching:!0,isAuth:!1},j=function(t){return{type:o,data:t}},p=function(t){return{type:l,isFetching:t}},b=function(){return function(){var t=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.me();case 2:0===(n=t.sent).data.resultCode&&e(j(n.data.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(t,e,n,r){return function(){var u=Object(c.a)(a.a.mark((function c(u){var o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.a.login(t,e,n,r);case 2:0===(o=a.sent).resultCode?u(b()):u(Object(s.a)("login",{_error:o.messages}));case 4:case"end":return a.stop()}}),c)})));return function(t){return u.apply(this,arguments)}}()},O=function(){return function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.logout();case 2:0===t.sent.resultCode&&e(j(null)),e({type:f,isAuth:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case o:return Object(u.a)(Object(u.a)({},t),{},{data:e.data,isAuth:!0});case l:return Object(u.a)(Object(u.a)({},t),{},{isFetching:e.isFetching});case f:return Object(u.a)(Object(u.a)({},t),{},{isAuth:e.isAuth});default:return t}}},225:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=function(t){t&&t instanceof Function&&n.e(8).then(n.bind(null,308)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,u=e.getTTFB;n(t),r(t),a(t),c(t),u(t)}))},u=n(43),i=n.n(u),s=n(31),o=n(32),l=n(42),f=n(41),d=(n(139),n(13)),j=n.n(d),p=n(14),b=n(2);var h=function(){return Object(b.jsxs)("nav",{className:j.a.nav,children:[Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)(p.b,{to:"/profile",children:"Profile"})}),Object(b.jsx)("div",{className:"".concat(j.a.item," ").concat(j.a.active),children:Object(b.jsx)(p.b,{to:"/dialogs",children:"Messages"})}),Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)(p.b,{to:"/users",children:"Users"})}),Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)(p.b,{to:"/news",children:"News"})}),Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)("a",{children:"Music"})}),Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)("a",{children:"Settings"})}),Object(b.jsx)("div",{className:j.a.item,children:Object(b.jsx)(p.b,{to:"/friends",activeClassName:j.a.activeLink,children:Object(b.jsx)("h2",{children:"Friends"})})})]})};var O=function(){return Object(b.jsx)("div",{children:"News"})},g=n(6),v=n(52),x=n.n(v),m=n(58);var w=function(t){var e;return Object(b.jsxs)("header",{className:x.a.header,children:[Object(b.jsx)("img",{src:"https://static.tildacdn.com/tild3136-3538-4632-b463-653639356631/Dvh-1.gif",alt:""}),Object(b.jsx)("div",{className:x.a.loginBlock,children:t.isAuth?Object(b.jsxs)("div",{children:["Hi, ",null===(e=t.data)||void 0===e?void 0:e.login," | ",Object(b.jsx)(m.a,{purple:!0,onClick:t.logout,children:"Logout"})]}):Object(b.jsx)(p.b,{style:{textDecoration:"none"},to:"/login",children:"Login"})})]})},y=n(20),S=n(23),E=function(t){Object(l.a)(n,t);var e=Object(f.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)(w,{data:this.props.data,isAuth:this.props.isAuth,logout:this.props.logout})}}]),n}(a.a.Component),N=Object(S.b)((function(t){return{data:t.auth.data,isFetching:t.auth.isFetching,isAuth:t.auth.isAuth}}),{setFetching:y.e,logout:y.d})(E),P=n(3),C="INITIALIZED-SUCCESS",T={initialized:!1},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case C:return Object(P.a)(Object(P.a)({},t),{},{initialized:!0});default:return t}},I=n(27),A=n(87),_=n(82),F=n(60),U=n(76),L=n(66),D=Object(I.c)({profilePage:F.b,dialogPage:U.b,usersPage:L.a,auth:y.a,app:k,form:_.a}),z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.d,R=Object(I.e)(D,z(Object(I.a)(A.a)));window.store=R;var H=n(28);function B(t){return function(e){return Object(b.jsx)(a.a.Suspense,{fallback:Object(b.jsx)(H.a,{}),children:Object(b.jsx)(t,Object(P.a)({},e))})}}var G=a.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,312))})),M=a.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,310))})),W=a.a.lazy((function(){return n.e(6).then(n.bind(null,311))})),J=a.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,309))})),X=function(t){Object(l.a)(n,t);var e=Object(f.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(b.jsxs)("div",{style:{borderRadius:"10px"},className:"app-wrapper",children:[Object(b.jsx)(N,{}),Object(b.jsx)(h,{}),Object(b.jsxs)("div",{className:"app-wrapper-content",children:[Object(b.jsx)(g.b,{path:"/dialogs",render:B(G)}),Object(b.jsx)(g.b,{path:"/profile/:userId?",render:function(){return Object(b.jsx)(r.Suspense,{fallback:Object(b.jsx)(H.a,{}),children:Object(b.jsx)(M,{})})}}),Object(b.jsx)(g.b,{path:"/news",component:function(){return Object(b.jsx)(O,{})}}),Object(b.jsx)(g.b,{path:"/users",component:B(W)}),Object(b.jsx)(g.b,{path:"/login",component:B(J)})]})]}):Object(b.jsx)(H.a,{})}}]),n}(a.a.Component),Y=Object(g.f)(Object(S.b)((function(t){return{initialized:t.app.initialized}}),{initializeApp:function(){return function(t){var e=t(Object(y.b)());Promise.all([e]).then((function(){t({type:C})}))}}})(X)),Z=function(){return Object(b.jsx)(p.a,{children:Object(b.jsx)(S.a,{store:R,children:Object(b.jsx)(Y,{})})})};i.a.render(Object(b.jsx)(Z,{}),document.getElementById("root")),c()},28:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n(0);var r=n(2),a=function(){return Object(r.jsx)("div",{style:{width:"100px",height:"100px",position:"absolute",top:"50%",left:"50%",zIndex:1},children:Object(r.jsx)("img",{style:{width:"100px"},src:"https://i.gifer.com/XVo6.gif",alt:""})})}},52:function(t,e,n){t.exports={header:"Header_header__1DYAZ",loginBlock:"Header_loginBlock__c7CbQ"}},53:function(t,e,n){t.exports={default:"CustomButton_default__1Ox7Q",purple:"CustomButton_purple__1Odhr"}},58:function(t,e,n){"use strict";var r=n(3),a=n(56),c=(n(0),n(53)),u=n.n(c),i=n(2);e.a=function(t){var e=t.className,n=t.purple,c=Object(a.a)(t,["className","purple"]),s="".concat(n?u.a.purple:u.a.default," ").concat(e);return Object(i.jsx)("button",Object(r.a)({className:s},c))}},60:function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"d",(function(){return h})),n.d(e,"c",(function(){return O})),n.d(e,"e",(function(){return g}));var r=n(5),a=n.n(r),c=n(11),u=n(18),i=n(3),s=n(7),o="ADD-NEW-POST",l="DELETE-POST",f="SET-USER-PROFILE",d="SET-STATUS",j={posts:[{id:1,text:"Hi, how old are you?",likesCount:10},{id:2,text:"It's my first post",likesCount:15},{id:3,text:"How is your it-kamasutra?",likesCount:20}],userProfile:null,status:""},p=function(t){return{type:o,postText:t}},b=function(t){return{type:d,status:t}},h=function(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.c.getProfile(Number(t));case 2:r=e.sent,n({type:f,userProfile:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=function(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.getStatus(t);case 2:r=e.sent,n(b(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=function(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.updateStatus(t);case 2:0===e.sent.resultCode&&n(b(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};e.b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case o:return Object(i.a)(Object(i.a)({},t),{},{posts:[].concat(Object(u.a)(t.posts),[{id:5,text:e.postText,likesCount:0}])});case l:return Object(i.a)(Object(i.a)({},t),{},{posts:t.posts.filter((function(t){return t.id!==e.postId}))});case f:return Object(i.a)(Object(i.a)({},t),{},{userProfile:e.userProfile});case d:return Object(i.a)(Object(i.a)({},t),{},{status:e.status});default:return t}}},66:function(t,e,n){"use strict";n.d(e,"d",(function(){return m})),n.d(e,"c",(function(){return S})),n.d(e,"b",(function(){return N})),n.d(e,"e",(function(){return P}));var r=n(5),a=n.n(r),c=n(11),u=n(18),i=n(3),s=n(7),o=function(t,e,n,r){return t.map((function(t){return t[n]===e?Object(i.a)(Object(i.a)({},t),r):t}))},l="FOLLOW",f="UNFOLLOW",d="SET-USERS",j="SET-CURRENT-PAGE",p="SET-TOTAL-USERS-COUNT",b="SET-FETCHING",h="SET-FOLLOWING-IN-PROGRESS",O={users:[],pageSize:15,totalUsersCount:0,currentPage:8,isFetching:!0,followingInProgress:[]},g=function(t){return{type:l,userId:t}},v=function(t){return{type:f,userId:t}},x=function(t,e){return{type:d,users:t,getFriends:e}},m=function(t){return{type:j,currentPage:t}},w=function(t){return{type:b,isFetching:t}},y=function(t,e){return{type:h,isFetching:t,userId:e}},S=function(t,e,n){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(w(!0)),r(m(t)),n.next=4,s.c.getUsers(t,e);case 4:c=n.sent,r(w(!1)),r(x(c.items)),r((a=c.totalCount,{type:p,totalUsersCount:a}));case 8:case"end":return n.stop()}var a}),n)})));return function(t){return n.apply(this,arguments)}}()},E=function(){var t=Object(c.a)(a.a.mark((function t(e,n,r,c){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(y(!0,n)),t.next=3,r(n);case 3:0===t.sent.resultCode&&e(c(n)),e(y(!1,n));case 6:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),N=function(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(n,t,s.c.follow.bind(s.c),g);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},P=function(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(n,t,s.c.unfollow.bind(s.c),v);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:return Object(i.a)(Object(i.a)({},t),{},{users:o(t.users,e.userId,"id",{followed:!0})});case f:return Object(i.a)(Object(i.a)({},t),{},{users:o(t.users,e.userId,"id",{followed:!1})});case d:return e.getFriends?Object(i.a)(Object(i.a)({},t),{},{users:Object(u.a)(e.users.filter((function(t){return t.followed})))}):Object(i.a)(Object(i.a)({},t),{},{users:Object(u.a)(e.users)});case j:return Object(i.a)(Object(i.a)({},t),{},{currentPage:e.currentPage});case p:return Object(i.a)(Object(i.a)({},t),{},{totalUsersCount:e.totalUsersCount});case b:return Object(i.a)(Object(i.a)({},t),{},{isFetching:e.isFetching});case h:return Object(i.a)(Object(i.a)({},t),{},{followingInProgress:e.isFetching?[].concat(Object(u.a)(t.followingInProgress),[e.userId]):t.followingInProgress.filter((function(t){return t!==e.userId}))});default:return t}}},7:function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return i}));var r=n(84),a=n.n(r).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"8c6b7133-ade3-4a94-80d1-5d19fef414f3"}}),c={getUsers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return a.get("users?page=".concat(t,"&count=").concat(e)).then((function(t){return t.data}))},unfollow:function(t){return a.delete("follow/".concat(t)).then((function(t){return t.data}))},follow:function(t){return a.post("follow/".concat(t)).then((function(t){return t.data}))},getProfile:function(t){return console.warn("Obsolete method. Please profileAPI object."),u.getProfile(t)}},u={getProfile:function(t){return a.get("profile/".concat(t)).then((function(t){return t.data}))},getStatus:function(t){return a.get("profile/status/".concat(t)).then((function(t){return t.data}))},updateStatus:function(t){return a.put("profile/status/",{status:t}).then((function(t){return t.data}))}},i={me:function(){return a.get("auth/me")},login:function(t,e,n,r){return a.post("auth/login",{email:t,password:e,rememberMe:n,captcha:r}).then((function(t){return t.data}))},logout:function(){return a.delete("auth/login").then((function(t){return t.data}))}}},76:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(18),a=n(3),c="ADD-NEW-MESSAGE",u=function(t){return{type:c,message:t}},i={dialogs:[{id:1,name:"Dimych"},{id:2,name:"Yura"},{id:3,name:"Sveta"},{id:4,name:"Sasha"}],messages:[{id:1,text:"Hi"},{id:2,text:"How are you?"},{id:3,text:"How is your it-kamasutra?"}]};e.b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case c:return Object(a.a)(Object(a.a)({},t),{},{messages:[].concat(Object(r.a)(t.messages),[{id:6,text:e.message}])});default:return t}}}},[[225,2,3]]]);
//# sourceMappingURL=main.1e28399b.chunk.js.map