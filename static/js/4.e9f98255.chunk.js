(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[4],{226:function(t,e,r){"use strict";r.d(e,"a",(function(){return l})),r.d(e,"b",(function(){return d})),r.d(e,"c",(function(){return p}));var n=r(3),o=r(56),s=(r(0),r(227)),a=r.n(s),i=r(108),c=r(2),u=function(t){t.input;var e=t.meta,r=e.touched,n=e.error,o=t.children,s=r&&n;return Object(c.jsxs)("div",{className:s?"".concat(a.a.formControl," ").concat(a.a.error):a.a.formControl,children:[o,s&&Object(c.jsx)("span",{className:a.a.errorMessage,children:n})]})},l=function(t){var e=t.input,r=t.meta,s=Object(o.a)(t,["input","meta"]);return Object(c.jsx)(u,{input:e,meta:r,children:Object(c.jsx)("textarea",Object(n.a)(Object(n.a)({className:a.a.textarea},e),s))})},d=function(t){var e=t.input,r=t.meta,s=Object(o.a)(t,["input","meta"]);return Object(c.jsx)(u,{input:e,meta:r,children:Object(c.jsx)("input",Object(n.a)(Object(n.a)({className:a.a.input},e),s))})},p=function(t,e,r,o,s,a){return Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsx)(i.a,Object(n.a)(Object(n.a)({name:e,component:o,validate:r,placeholder:t},s),{},{style:{marginBottom:"10px"}})),Object(c.jsx)("div",{children:a})]})}},227:function(t,e,r){t.exports={formControl:"FormsControl_formControl__Bb7au",error:"FormsControl_error__2MOuv",errorMessage:"FormsControl_errorMessage__BRyAo",textarea:"FormsControl_textarea__2njJO"}},229:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return o}));var n=function(t){return t?void 0:"Field is required!!!"},o=function(t){return function(e){return e.length>t?"Max length is ".concat(t," symbols"):void 0}}},230:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n=r(3),o=r(56),s=(r(0),r(6)),a=r(23),i=r(2),c=function(t){return{isAuth:t.auth.isAuth}};function u(t){return Object(a.b)(c)((function(e){var r=e.isAuth,a=Object(o.a)(e,["isAuth"]);return r?Object(i.jsx)(t,Object(n.a)({},a)):Object(i.jsx)(s.a,{to:"/login"})}))}},237:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(61);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,s=void 0;try{for(var a,i=t[Symbol.iterator]();!(n=(a=i.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(c){o=!0,s=c}finally{try{n||null==i.return||i.return()}finally{if(o)throw s}}return r}}(t,e)||Object(n.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},297:function(t,e,r){t.exports={profileContainer:"Profile_profileContainer__3sSvd",profileInfoContainer:"Profile_profileInfoContainer__2NyAN",profilePage:"Profile_profilePage__2WNHV",profilePageServices:"Profile_profilePageServices__2gkkr",friendsPage:"Profile_friendsPage__2GF0P"}},298:function(t,e,r){t.exports={descriptionBlog:"ProfileInfo_descriptionBlog__3EJWo",profileImage:"ProfileInfo_profileImage__Tbbxh",noAvatar:"ProfileInfo_noAvatar__29kuD"}},299:function(t,e,r){t.exports={postsBlock:"MyPosts_postsBlock__1eYTx",nameContainer:"MyPosts_nameContainer__16vyO",posts:"MyPosts_posts__2KqxB"}},300:function(t,e,r){t.exports={postContainer:"Post_postContainer__uWPh-"}},301:function(t,e,r){t.exports={addPostFormContainer:"AddPostForm_addPostFormContainer__1rqe6",buttonPosition:"AddPostForm_buttonPosition__O3QWY"}},308:function(t,e,r){"use strict";r.r(e);var n=r(31),o=r(32),s=r(42),a=r(41),i=r(0),c=r.n(i),u=r(297),l=r.n(u),d=r(298),p=r.n(d),j=r(28),f=r(237),b=r(2),h=function(t){var e=Object(i.useState)(t.status),r=Object(f.a)(e,2),n=r[0],o=r[1],s=Object(i.useState)(!1),a=Object(f.a)(s,2),c=a[0],u=a[1];Object(i.useEffect)((function(){o(t.status)}),[t.status]);return Object(b.jsx)(b.Fragment,{children:c?Object(b.jsx)("div",{children:Object(b.jsx)("input",{autoFocus:!0,onChange:function(t){o(t.currentTarget.value)},onBlur:function(){u(!1),t.updateStatus(n)},value:n,type:"text"})}):Object(b.jsx)("div",{children:Object(b.jsxs)("span",{onDoubleClick:function(){u(!0)},children:[t.status||"-------------"," "]})})})},m=function(t){var e=t.userProfile,r=t.status,n=t.updateStatus;return e?Object(b.jsxs)("div",{className:p.a.descriptionBlog,children:[Object(b.jsx)("div",{className:p.a.profileImage,children:e.photos.large?Object(b.jsx)("img",{src:e.photos.large}):Object(b.jsx)("div",{className:p.a.noAvatar,children:"No Avatar"})}),Object(b.jsxs)("div",{children:[Object(b.jsx)(h,{status:r,updateStatus:n}),Object(b.jsx)("span",{children:e.fullName}),Object(b.jsx)("span",{children:e.lookingForAJob}),Object(b.jsx)("span",{children:e.lookingForAJobDescription})]})]}):Object(b.jsx)(j.a,{})},O=r(299),x=r.n(O),v=r(300),P=r.n(v);var _=function(t){return Object(b.jsxs)("div",{className:P.a.postContainer,children:[Object(b.jsx)("img",{src:"https://www.kinonews.ru/insimgs/2018/newsimg/newsimg83415.jpg",alt:""}),t.message,Object(b.jsx)("div",{children:Object(b.jsxs)("span",{children:["like ",t.likeCount]})})]})},g=r(108),y=r(109),C=r(229),S=r(226),N=r(58),k=r(301),A=r.n(k),F=Object(C.a)(15),I=Object(y.a)({form:"profileAddPostForm"})((function(t){return Object(b.jsxs)("form",{className:A.a.addPostFormContainer,onSubmit:t.handleSubmit,children:[Object(b.jsx)(g.a,{component:S.a,label:"Create new post",name:"newPostText",placeholder:"Enter post text..",validate:[C.b,F],style:{width:"100%"}}),Object(b.jsx)(N.a,{className:A.a.buttonPosition,purple:!0,children:"Add post"})]})})),w=c.a.memo((function(t){var e=t.profilePage.posts.map((function(t){return Object(b.jsx)(_,{message:t.text,likeCount:t.likesCount},t.id)}));return Object(b.jsxs)("div",{className:x.a.postsBlock,children:[Object(b.jsx)("div",{className:x.a.nameContainer,children:Object(b.jsx)("span",{children:"My posts"})}),Object(b.jsx)("div",{children:Object(b.jsx)(I,{onSubmit:function(e){t.addPost(e.newPostText),e.newPostText=""}})}),Object(b.jsx)("div",{className:x.a.posts,children:e})]})})),B=r(60),M=r(23),U=Object(M.b)((function(t){return{profilePage:t.profilePage}}),(function(t){return{addPost:function(e){t(Object(B.a)(e))}}}))(w);var z=function(t){return Object(b.jsx)("div",{className:l.a.profileContainer,children:Object(b.jsxs)("div",{className:l.a.profilePage,children:[Object(b.jsx)("div",{className:l.a.profileInfoContainer,children:Object(b.jsx)(m,{userProfile:t.userProfile,status:t.status,updateStatus:t.updateStatus})}),Object(b.jsxs)("div",{className:l.a.profilePageServices,children:[Object(b.jsx)("div",{className:l.a.friendsPage,children:"Friends"}),Object(b.jsx)(U,{})]})]})})},T=r(6),J=r(230),D=r(27),E=function(t){Object(s.a)(r,t);var e=Object(a.a)(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"getProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId+"")||this.props.history.push("/login"),this.props.getUserProfile(+t),this.props.getStatus(+t)}},{key:"componentDidMount",value:function(){this.getProfile()}},{key:"componentDidUpdate",value:function(t){this.props.location!==t.location&&this.props.authorizedUserId&&(this.props.getUserProfile(this.props.authorizedUserId),this.props.getStatus(this.props.authorizedUserId))}},{key:"render",value:function(){return Object(b.jsx)(z,{userProfile:this.props.userProfile,status:this.props.status,updateStatus:this.props.updateStatus})}}]),r}(c.a.Component);e.default=Object(D.d)(J.a,Object(M.b)((function(t){var e;return{userProfile:t.profilePage.userProfile,status:t.profilePage.status,authorizedUserId:null===(e=t.auth.data)||void 0===e?void 0:e.id,isAuth:t.auth.isAuth}}),{getUserProfile:B.d,getStatus:B.c,updateStatus:B.e}),T.f)(E)}}]);
//# sourceMappingURL=4.e9f98255.chunk.js.map