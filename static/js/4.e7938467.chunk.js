(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[4],{226:function(t,e,a){"use strict";a.d(e,"a",(function(){return u})),a.d(e,"b",(function(){return d})),a.d(e,"c",(function(){return j}));var n=a(3),o=a(56),r=(a(0),a(227)),s=a.n(r),i=a(108),c=a(2),l=function(t){t.input;var e=t.meta,a=e.touched,n=e.error,o=t.children,r=a&&n;return Object(c.jsxs)("div",{className:r?"".concat(s.a.formControl," ").concat(s.a.error):s.a.formControl,children:[o,r&&Object(c.jsx)("span",{className:s.a.errorMessage,children:n})]})},u=function(t){var e=t.input,a=t.meta,r=Object(o.a)(t,["input","meta"]);return Object(c.jsx)(l,{input:e,meta:a,children:Object(c.jsx)("textarea",Object(n.a)(Object(n.a)({className:s.a.textarea},e),r))})},d=function(t){var e=t.input,a=t.meta,r=Object(o.a)(t,["input","meta"]);return Object(c.jsx)(l,{input:e,meta:a,children:Object(c.jsx)("input",Object(n.a)(Object(n.a)({className:s.a.input},e),r))})},j=function(t,e,a,o,r,s){return Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsx)(i.a,Object(n.a)(Object(n.a)({name:e,component:o,validate:a,placeholder:t},r),{},{style:{marginBottom:"10px"}})),Object(c.jsx)("div",{children:s})]})}},227:function(t,e,a){t.exports={formControl:"FormsControl_formControl__Bb7au",error:"FormsControl_error__2MOuv",errorMessage:"FormsControl_errorMessage__BRyAo",textarea:"FormsControl_textarea__2njJO"}},229:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return o}));var n=function(t){return t?void 0:"Field is required!!!"},o=function(t){return function(e){return e.length>t?"Max length is ".concat(t," symbols"):void 0}}},230:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var n=a(3),o=a(56),r=(a(0),a(6)),s=a(23),i=a(2),c=function(t){return{isAuth:t.auth.isAuth}};function l(t){return Object(s.b)(c)((function(e){var a=e.isAuth,s=Object(o.a)(e,["isAuth"]);return a?Object(i.jsx)(t,Object(n.a)({},s)):Object(i.jsx)(r.a,{to:"/login"})}))}},232:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var n=a(61);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var a=[],n=!0,o=!1,r=void 0;try{for(var s,i=t[Symbol.iterator]();!(n=(s=i.next()).done)&&(a.push(s.value),!e||a.length!==e);n=!0);}catch(c){o=!0,r=c}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}return a}}(t,e)||Object(n.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},238:function(t,e,a){"use strict";e.a=a.p+"static/media/user-man.88012ad7.png"},298:function(t,e,a){t.exports={profileContainer:"Profile_profileContainer__3sSvd",profileInfoContainer:"Profile_profileInfoContainer__2NyAN",profilePage:"Profile_profilePage__2WNHV",profilePageServices:"Profile_profilePageServices__2gkkr",friendsPage:"Profile_friendsPage__2GF0P",nameContainer:"Profile_nameContainer__145qp"}},299:function(t,e,a){t.exports={descriptionBlog:"ProfileInfo_descriptionBlog__3EJWo",profileImage:"ProfileInfo_profileImage__Tbbxh",avatar:"ProfileInfo_avatar__lqV8S",imageDownloader:"ProfileInfo_imageDownloader__yP8Bw"}},300:function(t,e,a){t.exports={profileInformation:"ProfileData_profileInformation__X1jsH",informationItem:"ProfileData_informationItem__2OkVw",contactsContainer:"ProfileData_contactsContainer__3J8ZG",contactsItems:"ProfileData_contactsItems__3H6y3",buttonPosition:"ProfileData_buttonPosition__3qNKb"}},301:function(t,e,a){t.exports={contact:"Contact_contact__3_C8d"}},302:function(t,e,a){t.exports={profileDataFormControlContainer:"ProfileDataForm_profileDataFormControlContainer__35NWa",profileDataFormControlItem:"ProfileDataForm_profileDataFormControlItem__132Uy",contactsContainer:"ProfileDataForm_contactsContainer__1AnbO",contactsItems:"ProfileDataForm_contactsItems__2CSJo",contactsItem:"ProfileDataForm_contactsItem__ITjlr",buttonPosition:"ProfileDataForm_buttonPosition__3BI1U"}},303:function(t,e,a){t.exports={postsBlock:"MyPosts_postsBlock__1eYTx",nameContainer:"MyPosts_nameContainer__16vyO",posts:"MyPosts_posts__2KqxB"}},304:function(t,e,a){t.exports={postContainer:"Post_postContainer__uWPh-"}},305:function(t,e,a){t.exports={addPostFormContainer:"AddPostForm_addPostFormContainer__1rqe6",buttonPosition:"AddPostForm_buttonPosition__O3QWY"}},312:function(t,e,a){"use strict";a.r(e);var n=a(32),o=a(33),r=a(43),s=a(42),i=a(0),c=a.n(i),l=a(298),u=a.n(l),d=a(5),j=a.n(d),b=a(8),f=a(232),p=a(299),m=a.n(p),h=a(29),O=a(238),x=a(300),v=a.n(x),_=a(2),P=function(t){var e=Object(i.useState)(t.status),a=Object(f.a)(e,2),n=a[0],o=a[1],r=Object(i.useState)(!1),s=Object(f.a)(r,2),c=s[0],l=s[1];Object(i.useEffect)((function(){o(t.status)}),[t.status]);return Object(_.jsx)(_.Fragment,{children:c?Object(_.jsx)("div",{children:Object(_.jsx)("input",{autoFocus:!0,onChange:function(t){o(t.currentTarget.value)},onBlur:function(){l(!1),t.updateStatus(n)},value:n,type:"text"})}):Object(_.jsx)("div",{children:Object(_.jsxs)("span",{onDoubleClick:function(){l(!0)},children:[Object(_.jsx)("b",{children:"Status"}),": ",t.status||"-------------"," "]})})})},g=a(301),C=a.n(g),y=a.p+"static/media/twitter.802534bf.png",N=a.p+"static/media/facebook.795fce8e.png",k=a.p+"static/media/github.f3d873d7.png",I=a.p+"static/media/vk.7f998af7.png",F=a.p+"static/media/instagram.3c5c461f.png",S=a.p+"static/media/youtube.53e70a78.png",w=a.p+"static/media/internet.cebfa67b.png",D=function(t){var e,a=t.contactTitle,n=t.contactValue;switch(a){case"youtube":e=S;break;case"facebook":e=N;break;case"vk":e=I;break;case"github":e=k;break;case"instagram":e=F;break;case"twitter":e=y;break;default:e=w}return Object(_.jsx)("div",{className:C.a.contact,children:Object(_.jsx)("div",{children:Object(_.jsx)("a",{href:n,children:Object(_.jsx)("img",{style:{width:"60%",height:"60%"},src:e,alt:""})})})})},A=a(57),M=function(t){var e=t.userProfile,a=t.status,n=t.updateStatus,o=t.isOwner,r=t.setEditMode;return Object(_.jsxs)("div",{className:v.a.profileInformation,children:[Object(_.jsx)("div",{className:v.a.informationItem,children:Object(_.jsxs)("span",{children:[Object(_.jsx)("b",{children:"My name"}),": ",null===e||void 0===e?void 0:e.fullName]})}),Object(_.jsx)("div",{className:v.a.informationItem,children:Object(_.jsx)(P,{status:a,updateStatus:n})}),Object(_.jsx)("div",{className:v.a.informationItem,children:Object(_.jsxs)("span",{children:[Object(_.jsx)("b",{children:"Looking for a job"}),": ",(null===e||void 0===e?void 0:e.lookingForAJob)?"Yes":"No"]})}),(null===e||void 0===e?void 0:e.lookingForAJobDescription)&&Object(_.jsx)("div",{className:v.a.informationItem,children:Object(_.jsxs)("span",{children:[Object(_.jsx)("b",{children:"My professional skills"}),": ",e.lookingForAJobDescription]})}),Object(_.jsxs)("div",{className:v.a.informationItem,children:[Object(_.jsx)("b",{children:"About me"}),": ",null===e||void 0===e?void 0:e.aboutMe]}),Object(_.jsxs)("div",{className:v.a.contactsContainer,children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("b",{children:"Contacts"}),":"]}),e&&Object(_.jsx)("div",{className:v.a.contactsItems,children:Object.keys(e.contacts).map((function(t){return Object(_.jsx)(D,{contactTitle:t,contactValue:e.contacts[t]},t)}))})]}),Object(_.jsx)("div",{className:v.a.buttonPosition,children:o&&Object(_.jsx)(A.a,{onClick:r,purple:!0,children:"Edit profile"})})]})},B=a(302),J=a.n(B),T=a(226),U=a(109),E=a(23),q=Object(U.a)({form:"edit-profile"})((function(t){var e=t.handleSubmit,a=t.error,n=Object(E.d)((function(t){return t.profilePage.userProfile}));return Object(_.jsx)("div",{className:J.a.profileDataFormControlContainer,children:Object(_.jsxs)("form",{onSubmit:e,children:[a&&Object(_.jsx)("div",{style:{fontSize:"36px",color:"red"},children:a}),Object(_.jsxs)("div",{className:J.a.profileDataFormControlItem,children:[Object(_.jsx)("b",{children:"Full name:"})," ",Object(T.c)("Full name...","fullName",[],T.b)]}),Object(_.jsxs)("div",{className:J.a.profileDataFormControlItem,children:[Object(_.jsx)("b",{children:"Looking for a job:"}),Object(T.c)("","lookingForAJob",[],T.b,{type:"checkbox"})]}),Object(_.jsxs)("div",{className:J.a.profileDataFormControlItem,children:[Object(_.jsx)("b",{children:"My professional skills:"}),Object(T.c)("My professional skills","lookingForAJobDescription",[],T.a)]}),Object(_.jsxs)("div",{className:J.a.profileDataFormControlItem,children:[Object(_.jsx)("b",{children:"About me:"}),Object(T.c)("About me","aboutMe",[],T.a)]}),Object(_.jsxs)("div",{className:J.a.contactsContainer,children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("b",{children:"Contacts"}),":"]}),n&&Object(_.jsx)("div",{className:J.a.contactsItems,children:Object.keys(n.contacts).map((function(t){return Object(_.jsxs)("div",{className:J.a.contactsItem,children:[Object(_.jsx)("b",{children:t}),": ",Object(T.c)(t,"contacts."+t,[],T.b)]},t)}))})]}),Object(_.jsx)("div",{className:J.a.buttonPosition,children:Object(_.jsx)(A.a,{purple:!0,children:"Save"})})]})})})),V=a(24),z=function(t){var e=t.userProfile,a=t.isOwner,n=t.status,o=t.updateStatus,r=t.savePhoto,s=t.saveProfile,c=Object(i.useState)(!1),l=Object(f.a)(c,2),u=l[0],d=l[1],p=Object(E.c)();if(!e)return Object(_.jsx)(h.a,{});var x=function(){var t=Object(b.a)(j.a.mark((function t(e){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s(e);case 3:d(!1),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),p(Object(V.a)("edit-profile",{_error:t.t0})),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return Object(_.jsxs)("div",{className:m.a.descriptionBlog,children:[Object(_.jsxs)("div",{className:m.a.profileImage,children:[Object(_.jsx)("img",{alt:"Avatar",src:e.photos.large||O.a,className:m.a.avatar}),a&&Object(_.jsxs)("label",{className:m.a.imageDownloader,children:["Upload image",Object(_.jsx)("input",{type:"file",onChange:function(t){var e;(null===(e=t.target.files)||void 0===e?void 0:e.length)&&r(t.target.files[0])},style:{display:"none"}})]})]}),u?Object(_.jsx)(q,{initialValues:e,onSubmit:x}):Object(_.jsx)(M,{userProfile:e,status:n,isOwner:a,updateStatus:o,setEditMode:function(){return d(!0)}})]})},W=a(303),H=a.n(W),Y=a(304),G=a.n(Y);var K=function(t){return Object(_.jsxs)("div",{className:G.a.postContainer,children:[Object(_.jsx)("img",{src:"https://www.kinonews.ru/insimgs/2018/newsimg/newsimg83415.jpg",alt:""}),t.message,Object(_.jsx)("div",{children:Object(_.jsxs)("span",{children:["like ",t.likeCount]})})]})},L=a(108),Q=a(229),R=a(305),X=a.n(R),Z=Object(Q.a)(15),$=Object(U.a)({form:"profileAddPostForm"})((function(t){return Object(_.jsxs)("form",{className:X.a.addPostFormContainer,onSubmit:t.handleSubmit,children:[Object(_.jsx)(L.a,{component:T.a,label:"Create new post",name:"newPostText",placeholder:"Enter post text..",validate:[Q.b,Z],style:{width:"100%"}}),Object(_.jsx)(A.a,{className:X.a.buttonPosition,purple:!0,children:"Add post"})]})})),tt=c.a.memo((function(t){var e=t.profilePage.posts.map((function(t){return Object(_.jsx)(K,{message:t.text,likeCount:t.likesCount},t.id)}));return Object(_.jsxs)("div",{className:H.a.postsBlock,children:[Object(_.jsx)("div",{className:H.a.nameContainer,children:Object(_.jsx)("span",{children:"My posts"})}),Object(_.jsx)("div",{children:Object(_.jsx)($,{onSubmit:function(e){t.addPost(e.newPostText),e.newPostText=""}})}),Object(_.jsx)("div",{className:H.a.posts,children:e})]})})),et=a(60),at=Object(E.b)((function(t){return{profilePage:t.profilePage}}),(function(t){return{addPost:function(e){t(Object(et.a)(e))}}}))(tt);var nt=function(t){return Object(_.jsx)("div",{className:u.a.profileContainer,children:Object(_.jsxs)("div",{className:u.a.profilePage,children:[Object(_.jsx)("div",{className:u.a.profileInfoContainer,children:Object(_.jsx)(z,{userProfile:t.userProfile,isOwner:t.isOwner,status:t.status,savePhoto:t.savePhoto,saveProfile:t.saveProfile,updateStatus:t.updateStatus})}),Object(_.jsxs)("div",{className:u.a.profilePageServices,children:[Object(_.jsx)("div",{className:u.a.friendsPage,children:Object(_.jsx)("div",{className:u.a.nameContainer,children:Object(_.jsx)("span",{children:"Friends"})})}),Object(_.jsx)(at,{})]})]})})},ot=a(6),rt=a(230),st=a(28),it=function(t){Object(r.a)(a,t);var e=Object(s.a)(a);function a(){return Object(n.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"getProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId+"")||this.props.history.push("/login"),this.props.getUserProfile(+t),this.props.getStatus(+t)}},{key:"componentDidMount",value:function(){this.getProfile()}},{key:"componentDidUpdate",value:function(t){this.props.match.params.userId!==t.match.params.userId&&this.getProfile()}},{key:"render",value:function(){return Object(_.jsx)(nt,{userProfile:this.props.userProfile,isOwner:!this.props.match.params.userId,status:this.props.status,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile,updateStatus:this.props.updateStatus})}}]),a}(c.a.Component);e.default=Object(st.d)(rt.a,Object(E.b)((function(t){var e;return{userProfile:t.profilePage.userProfile,status:t.profilePage.status,authorizedUserId:null===(e=t.auth.data)||void 0===e?void 0:e.id,isAuth:t.auth.isAuth}}),{getUserProfile:et.d,getStatus:et.c,updateStatus:et.g,savePhoto:et.e,saveProfile:et.f}),ot.f)(it)}}]);
//# sourceMappingURL=4.e7938467.chunk.js.map