(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[4],{226:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return f}));var r=n(3),a=n(56),o=(n(0),n(227)),s=n.n(o),i=n(108),c=n(2),u=function(t){t.input;var e=t.meta,n=e.touched,r=e.error,a=t.children,o=n&&r;return Object(c.jsxs)("div",{className:o?"".concat(s.a.formControl," ").concat(s.a.error):s.a.formControl,children:[a,o&&Object(c.jsx)("span",{className:s.a.errorMessage,children:r})]})},l=function(t){var e=t.input,n=t.meta,o=Object(a.a)(t,["input","meta"]);return Object(c.jsx)(u,{input:e,meta:n,children:Object(c.jsx)("textarea",Object(r.a)(Object(r.a)({className:s.a.textarea},e),o))})},d=function(t){var e=t.input,n=t.meta,o=Object(a.a)(t,["input","meta"]);return Object(c.jsx)(u,{input:e,meta:n,children:Object(c.jsx)("input",Object(r.a)(Object(r.a)({className:s.a.input},e),o))})},f=function(t,e,n,a,o,s){return Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsx)(i.a,Object(r.a)(Object(r.a)({name:e,component:a,validate:n,placeholder:t},o),{},{style:{marginBottom:"10px"}})),Object(c.jsx)("div",{children:s})]})}},227:function(t,e,n){t.exports={formControl:"FormsControl_formControl__Bb7au",error:"FormsControl_error__2MOuv",errorMessage:"FormsControl_errorMessage__BRyAo",textarea:"FormsControl_textarea__2njJO"}},229:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a}));var r=function(t){return t?void 0:"Field is required!!!"},a=function(t){return function(e){return e.length>t?"Max length is ".concat(t," symbols"):void 0}}},230:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(3),a=n(56),o=(n(0),n(6)),s=n(23),i=n(2),c=function(t){return{isAuth:t.auth.isAuth}};function u(t){return Object(s.b)(c)((function(e){var n=e.isAuth,s=Object(a.a)(e,["isAuth"]);return n?Object(i.jsx)(t,Object(r.a)({},s)):Object(i.jsx)(o.a,{to:"/login"})}))}},232:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(61);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=t[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},238:function(t,e,n){"use strict";e.a=n.p+"static/media/user-man.88012ad7.png"},239:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(232),a=n(0),o=n(240),s=n.n(o),i=n(2),c=function(t){for(var e=t.pageSize,n=t.currentPage,o=t.onPageChanged,c=t.totalItemsCount,u=t.portionSize,l=void 0===u?10:u,d=Math.ceil(c/e),f=[],j=1;j<=d;j++)f.push(j);var p=Math.ceil(d/l),b=Object(a.useState)(1),m=Object(r.a)(b,2),h=m[0],O=m[1],x=(h-1)*l+1,g=h*l;return Object(a.useEffect)((function(){O(Math.ceil(n/l))}),[n]),Object(i.jsxs)("div",{className:s.a.mainPaginator,children:[h>2&&Object(i.jsx)("button",{className:s.a.arrow,onClick:function(){return O(1)},children:"<<"}),h>1&&Object(i.jsx)("button",{className:s.a.arrow,onClick:function(){return O(h-1)},children:"<"}),f.filter((function(t){return t>=x&&t<=g})).map((function(t){return Object(i.jsxs)("span",{className:s.a.paginatorItem,onClick:function(){return o(t)},children:[t," "]})})),p>h&&Object(i.jsx)("button",{className:s.a.arrow,onClick:function(){return O(h+1)},children:">"}),p-h>2&&Object(i.jsx)("button",{className:s.a.arrow,onClick:function(){return O(p)},children:">>"})]})}},240:function(t,e,n){t.exports={mainPaginator:"Paginator_mainPaginator__2WtZJ",paginatorItem:"Paginator_paginatorItem__3NRek",arrow:"Paginator_arrow__1Zkf_"}},300:function(t,e,n){t.exports={profileContainer:"Profile_profileContainer__3sSvd",profileInfoContainer:"Profile_profileInfoContainer__2NyAN",profilePage:"Profile_profilePage__2WNHV",profilePageServices:"Profile_profilePageServices__2gkkr",friendsPage:"Profile_friendsPage__2GF0P"}},301:function(t,e,n){t.exports={descriptionBlog:"ProfileInfo_descriptionBlog__3EJWo",profileImage:"ProfileInfo_profileImage__Tbbxh",profileInformation:"ProfileInfo_profileInformation__sbWCl",avatar:"ProfileInfo_avatar__lqV8S"}},302:function(t,e,n){t.exports={postsBlock:"MyPosts_postsBlock__1eYTx",nameContainer:"MyPosts_nameContainer__16vyO",posts:"MyPosts_posts__2KqxB"}},303:function(t,e,n){t.exports={postContainer:"Post_postContainer__uWPh-"}},304:function(t,e,n){t.exports={addPostFormContainer:"AddPostForm_addPostFormContainer__1rqe6",buttonPosition:"AddPostForm_buttonPosition__O3QWY"}},310:function(t,e,n){"use strict";n.r(e);var r=n(31),a=n(32),o=n(42),s=n(41),i=n(0),c=n.n(i),u=n(300),l=n.n(u),d=n(301),f=n.n(d),j=n(28),p=n(232),b=n(2),m=function(t){var e=Object(i.useState)(t.status),n=Object(p.a)(e,2),r=n[0],a=n[1],o=Object(i.useState)(!1),s=Object(p.a)(o,2),c=s[0],u=s[1];Object(i.useEffect)((function(){a(t.status)}),[t.status]);return Object(b.jsx)(b.Fragment,{children:c?Object(b.jsx)("div",{children:Object(b.jsx)("input",{autoFocus:!0,onChange:function(t){a(t.currentTarget.value)},onBlur:function(){u(!1),t.updateStatus(r)},value:r,type:"text"})}):Object(b.jsx)("div",{children:Object(b.jsxs)("span",{onDoubleClick:function(){u(!0)},children:[t.status||"-------------"," "]})})})},h=n(238),O=function(t){var e=t.userProfile,n=t.status,r=t.updateStatus;return e?Object(b.jsxs)("div",{className:f.a.descriptionBlog,children:[Object(b.jsx)("div",{className:f.a.profileImage,children:Object(b.jsx)("img",{alt:"Avatar",src:e.photos.large||h.a,className:f.a.avatar})}),Object(b.jsxs)("div",{className:f.a.profileInformation,children:[Object(b.jsx)("span",{children:e.fullName}),Object(b.jsx)(m,{status:n,updateStatus:r}),Object(b.jsx)("span",{children:e.lookingForAJob}),Object(b.jsx)("span",{children:e.lookingForAJobDescription})]})]}):Object(b.jsx)(j.a,{})},x=n(302),g=n.n(x),v=n(303),P=n.n(v);var _=function(t){return Object(b.jsxs)("div",{className:P.a.postContainer,children:[Object(b.jsx)("img",{src:"https://www.kinonews.ru/insimgs/2018/newsimg/newsimg83415.jpg",alt:""}),t.message,Object(b.jsx)("div",{children:Object(b.jsxs)("span",{children:["like ",t.likeCount]})})]})},C=n(108),y=n(109),N=n(229),S=n(226),k=n(58),I=n(304),w=n.n(I),A=Object(N.a)(15),F=Object(y.a)({form:"profileAddPostForm"})((function(t){return Object(b.jsxs)("form",{className:w.a.addPostFormContainer,onSubmit:t.handleSubmit,children:[Object(b.jsx)(C.a,{component:S.a,label:"Create new post",name:"newPostText",placeholder:"Enter post text..",validate:[N.b,A],style:{width:"100%"}}),Object(b.jsx)(k.a,{className:w.a.buttonPosition,purple:!0,children:"Add post"})]})})),M=c.a.memo((function(t){var e=t.profilePage.posts.map((function(t){return Object(b.jsx)(_,{message:t.text,likeCount:t.likesCount},t.id)}));return Object(b.jsxs)("div",{className:g.a.postsBlock,children:[Object(b.jsx)("div",{className:g.a.nameContainer,children:Object(b.jsx)("span",{children:"My posts"})}),Object(b.jsx)("div",{children:Object(b.jsx)(F,{onSubmit:function(e){t.addPost(e.newPostText),e.newPostText=""}})}),Object(b.jsx)("div",{className:g.a.posts,children:e})]})})),B=n(60),z=n(23),J=Object(z.b)((function(t){return{profilePage:t.profilePage}}),(function(t){return{addPost:function(e){t(Object(B.a)(e))}}}))(M),T=n(66),E=n(239),W=function(){var t=Object(z.d)((function(t){return t.usersPage.users})),e=Object(z.d)((function(t){return t.usersPage.currentPage})),n=Object(z.d)((function(t){return t.usersPage.pageSize})),r=Object(z.c)();Object(i.useEffect)((function(){r(Object(T.c)(e,n,!0))}),[]);return Object(b.jsxs)("div",{children:[Object(b.jsx)(E.a,{pageSize:n,currentPage:e,totalItemsCount:t.length,onPageChanged:function(t){r(Object(T.c)(t,n))}}),t.filter((function(t){return t.followed})).map((function(t){return Object(b.jsxs)("div",{style:{width:"30px",height:"30px"},children:[Object(b.jsx)("div",{children:t.photos.small}),Object(b.jsx)("div",{children:t.name})]},t.id)}))]})};var U=function(t){return Object(b.jsx)("div",{className:l.a.profileContainer,children:Object(b.jsxs)("div",{className:l.a.profilePage,children:[Object(b.jsx)("div",{className:l.a.profileInfoContainer,children:Object(b.jsx)(O,{userProfile:t.userProfile,status:t.status,updateStatus:t.updateStatus})}),Object(b.jsxs)("div",{className:l.a.profilePageServices,children:[Object(b.jsxs)("div",{className:l.a.friendsPage,children:[Object(b.jsx)("div",{children:"Friends"}),Object(b.jsx)(W,{})]}),Object(b.jsx)(J,{})]})]})})},q=n(6),D=n(230),R=n(27),V=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"getProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId+"")||this.props.history.push("/login"),this.props.getUserProfile(+t),this.props.getStatus(+t)}},{key:"componentDidMount",value:function(){this.getProfile()}},{key:"componentDidUpdate",value:function(t){this.props.match.params.userId!==t.match.params.userId&&this.getProfile()}},{key:"render",value:function(){return Object(b.jsx)(U,{userProfile:this.props.userProfile,status:this.props.status,updateStatus:this.props.updateStatus})}}]),n}(c.a.Component);e.default=Object(R.d)(D.a,Object(z.b)((function(t){var e;return{userProfile:t.profilePage.userProfile,status:t.profilePage.status,authorizedUserId:null===(e=t.auth.data)||void 0===e?void 0:e.id,isAuth:t.auth.isAuth}}),{getUserProfile:B.d,getStatus:B.c,updateStatus:B.e}),q.f)(V)}}]);
//# sourceMappingURL=4.0fa52cac.chunk.js.map